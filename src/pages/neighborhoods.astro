---
import Layout from '../layouts/Layout.astro';
import RankingCard from '../components/RankingCard.astro';
import JsonLdSchema from '../components/JsonLdSchema.astro';
import { getRankings } from '../lib/fileStorage';
import type { Ranking } from '../lib/fileStorage';

// Get the rankings from our JSON file
const rankings = await getRankings('neighborhoods');

// SEO metadata
const title = "Best Neighborhoods in Edmonton 2025 | Ranking Edmonton";
const description = "Discover Edmonton's top neighborhoods for 2025. Find vibrant urban districts and family-friendly communities to live, work, and play.";
const ogImage = "/images/neighborhoods/oldstrathcona.jpg";
---

<Layout title={title} description={description} ogImage={ogImage} canonicalUrl="/neighborhoods">
  <!-- Add JSON-LD Schema for SEO -->
  <JsonLdSchema 
    categoryName="Best Neighborhoods in Edmonton"
    rankings={rankings}
    categoryDescription="A ranked list of the best neighborhoods in Edmonton, as voted by locals in 2025."
    url={Astro.url.href}
  />
  
  <!-- Hero Section -->
  <section class="relative py-16 md:py-20 bg-gradient-to-r from-lifestyle-secondary to-lifestyle-secondary/80 text-white overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-lifestyle-secondary to-lifestyle-secondary/80"></div>
    
    <div class="container relative z-10">
      <div class="max-w-3xl">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">
          Best Neighborhoods in Edmonton (2025)
        </h1>
        <p class="text-xl mb-6">
          From historic districts to up-and-coming communities, discover Edmonton's most beloved neighborhoods as voted by locals.
        </p>
      </div>
    </div>
  </section>
  
  <!-- Main Content -->
  <section class="py-12 md:py-16 bg-white relative z-20">
    <div class="container">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
        <!-- Rankings -->
        <div class="lg:col-span-2">
          <h2 class="text-3xl font-bold mb-8">
            Top-Rated Neighborhoods in Edmonton
          </h2>
          
          <div class="rankings-list">
            {rankings.map((item, index) => (
              <RankingCard item={item} rank={index + 1} />
            ))}
          </div>
          
          <div class="mt-12 p-6 bg-gray-50 rounded-lg">
            <h3 class="text-xl font-bold mb-4">How We Rank</h3>
            <p>
              Our rankings are determined by upvotes from Edmonton locals who know the city best. 
              This creates a real-time, constantly evolving guide to the city's most beloved communities.
            </p>
            <p class="mt-4">
              Don't see your favorite neighborhood on the list? 
              Make sure to upvote it to help it climb the rankings!
            </p>
          </div>
        </div>
        
        <!-- Sidebar -->
        <div class="lg:col-span-1">
          <div class="sticky top-24">
            <div class="card mb-8">
              <h3 class="text-xl font-bold mb-4">Explore Other Categories</h3>
              <ul class="space-y-2">
                <li><a href="/pizza" class="hover:text-ui-accent transition-colors">Best Pizza</a></li>
                <li><a href="/coffee" class="hover:text-ui-accent transition-colors">Best Coffee Shops</a></li>
                <li><a href="/gyms" class="hover:text-ui-accent transition-colors">Best Gyms</a></li>
                <li><a href="/festivals" class="hover:text-ui-accent transition-colors">Best Festivals</a></li>
              </ul>
            </div>
            
            <div class="card mb-8 bg-lifestyle-secondary/10">
              <h3 class="text-xl font-bold mb-4">Best Neighborhoods For...</h3>
              <ul class="space-y-3">
                <li class="flex items-start">
                  <span class="text-ui-accent mr-2">‚Ä¢</span>
                  <span><strong>Young Professionals:</strong> Downtown, Oliver, Old Strathcona</span>
                </li>
                <li class="flex items-start">
                  <span class="text-ui-accent mr-2">‚Ä¢</span>
                  <span><strong>Families:</strong> Glenora, Highlands, Ritchie</span>
                </li>
                <li class="flex items-start">
                  <span class="text-ui-accent mr-2">‚Ä¢</span>
                  <span><strong>Affordability:</strong> Ritchie, Alberta Avenue, Parkdale</span>
                </li>
                <li class="flex items-start">
                  <span class="text-ui-accent mr-2">‚Ä¢</span>
                  <span><strong>Walkability:</strong> Old Strathcona, Downtown, Oliver</span>
                </li>
              </ul>
            </div>
            
            <div class="card">
              <h3 class="text-xl font-bold mb-4">Edmonton Facts</h3>
              <ul class="space-y-3">
                <li class="flex items-start">
                  <span class="text-ui-accent mr-2">‚Ä¢</span>
                  <span>Edmonton has over 375 distinct neighborhoods</span>
                </li>
                <li class="flex items-start">
                  <span class="text-ui-accent mr-2">‚Ä¢</span>
                  <span>The city boasts North America's largest urban park system</span>
                </li>
                <li class="flex items-start">
                  <span class="text-ui-accent mr-2">‚Ä¢</span>
                  <span>Edmonton's population grew 8% between 2020-2025</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- In-Depth Content Section with Tabs -->
  <section class="py-12 md:py-16 bg-gray-50">
    <div class="container">
      <h2 class="text-3xl font-bold mb-8 text-center">
        Everything You Need to Know About Edmonton's Neighborhoods
      </h2>
      
      <!-- Tab Navigation -->
      <div class="flex flex-wrap justify-center mb-8 border-b border-gray-200">
        <button class="tab-button active px-6 py-3 font-medium text-lifestyle-secondary border-b-2 border-lifestyle-secondary" data-tab="overview">Overview</button>
        <button class="tab-button px-6 py-3 font-medium text-gray-600 hover:text-lifestyle-secondary border-b-2 border-transparent hover:border-lifestyle-secondary/30" data-tab="types">Neighborhood Types</button>
        <button class="tab-button px-6 py-3 font-medium text-gray-600 hover:text-lifestyle-secondary border-b-2 border-transparent hover:border-lifestyle-secondary/30" data-tab="profiles">Top Neighborhoods</button>
        <button class="tab-button px-6 py-3 font-medium text-gray-600 hover:text-lifestyle-secondary border-b-2 border-transparent hover:border-lifestyle-secondary/30" data-tab="guide">Choosing Guide</button>
      </div>
      
      <!-- Tab Content -->
      <div class="tab-content">
        <!-- Overview Tab -->
        <div id="overview" class="tab-pane active">
          <div class="prose prose-lg max-w-4xl mx-auto">
            <p class="text-xl text-gray-700 mb-6">
              Edmonton's diverse neighborhoods each tell unique stories of the city's evolution, from historic districts over a century old to vibrant new communities shaped by contemporary urban planning.
            </p>
            
            <div class="grid md:grid-cols-2 gap-8 mb-8">
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold mb-4 text-lifestyle-secondary">üèòÔ∏è Neighborhood Facts</h3>
                <ul class="space-y-3">
                  <li>‚Ä¢ Over 375 distinct neighborhoods</li>
                  <li>‚Ä¢ North America's largest urban park system</li>
                  <li>‚Ä¢ 8% population growth (2020-2025)</li>
                  <li>‚Ä¢ Strong community league system</li>
                </ul>
              </div>
              
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold mb-4 text-lifestyle-secondary">üåü What Makes Edmonton Special</h3>
                <ul class="space-y-3">
                  <li>‚Ä¢ River valley integration</li>
                  <li>‚Ä¢ Rich architectural diversity</li>
                  <li>‚Ä¢ Strong community connections</li>
                  <li>‚Ä¢ Four-season urban design</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Neighborhood Types Tab -->
        <div id="types" class="tab-pane hidden">
          <div class="prose prose-lg max-w-4xl mx-auto">
            <div class="grid md:grid-cols-2 gap-6">
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üèõÔ∏è Historic Districts</h3>
                <p>Character homes from early 20th century with mature landscapes and architectural heritage.</p>
                <p class="text-sm text-gray-600 mt-2"><strong>Examples:</strong> Glenora, Highlands</p>
              </div>
              
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üè¢ Urban Core</h3>
                <p>Centrally located with high-density living, excellent walkability, and cultural amenities.</p>
                <p class="text-sm text-gray-600 mt-2"><strong>Examples:</strong> Downtown, Oliver</p>
              </div>
              
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">‚¨ÜÔ∏è Up-and-Coming</h3>
                <p>Neighborhoods in transition with mix of heritage homes and modern developments.</p>
                <p class="text-sm text-gray-600 mt-2"><strong>Examples:</strong> Ritchie, Alberta Avenue</p>
              </div>
              
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üé≠ Cultural Hubs</h3>
                <p>Vibrant districts serving as centers for arts, dining, and entertainment.</p>
                <p class="text-sm text-gray-600 mt-2"><strong>Examples:</strong> Old Strathcona, 124 Street</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Top Neighborhoods Tab -->
        <div id="profiles" class="tab-pane hidden">
          <div class="prose prose-lg max-w-4xl mx-auto">
            <div class="space-y-6">
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üé® Old Strathcona</h3>
                <p>Historic entertainment and cultural hub with vibrant Whyte Avenue, heritage buildings, and proximity to University of Alberta.</p>
                <div class="text-sm text-gray-600 mt-2">
                  <strong>Best For:</strong> Young professionals, students, culture lovers<br>
                  <strong>Features:</strong> Walkable, diverse dining, year-round events
                </div>
              </div>
              
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üèõÔ∏è Glenora</h3>
                <p>Prestigious neighborhood with heritage mansions, mature elm trees, and river valley access.</p>
                <div class="text-sm text-gray-600 mt-2">
                  <strong>Best For:</strong> Families, professionals seeking prestige<br>
                  <strong>Features:</strong> Excellent schools, architectural beauty, quiet streets
                </div>
              </div>
              
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üè¢ Downtown</h3>
                <p>Urban core undergoing renaissance with new residential towers, cultural facilities, and improved public spaces.</p>
                <div class="text-sm text-gray-600 mt-2">
                  <strong>Best For:</strong> Urban professionals, culture enthusiasts<br>
                  <strong>Features:</strong> Transit access, entertainment district, condo living
                </div>
              </div>
              
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üè† Highlands</h3>
                <p>Riverside community with historic Craftsman homes, tree-lined streets, and small-town feel.</p>
                <div class="text-sm text-gray-600 mt-2">
                  <strong>Best For:</strong> Heritage lovers, value seekers<br>
                  <strong>Features:</strong> River views, character homes, strong community bonds
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Choosing Guide Tab -->
        <div id="guide" class="tab-pane hidden">
          <div class="prose prose-lg max-w-4xl mx-auto">
            <div class="grid md:grid-cols-2 gap-6">
              <div class="space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-sm">
                  <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ For Families</h3>
                  <ul class="space-y-2 text-sm">
                    <li>‚Ä¢ Quality schools and programs</li>
                    <li>‚Ä¢ Parks and recreation access</li>
                    <li>‚Ä¢ Glenora, Highlands excel here</li>
                  </ul>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-sm">
                  <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üíº For Young Professionals</h3>
                  <ul class="space-y-2 text-sm">
                    <li>‚Ä¢ Short commute to downtown</li>
                    <li>‚Ä¢ Dining and entertainment options</li>
                    <li>‚Ä¢ Downtown, Oliver, Old Strathcona</li>
                  </ul>
                </div>
              </div>
              
              <div class="space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-sm">
                  <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üí∞ For Value Seekers</h3>
                  <ul class="space-y-2 text-sm">
                    <li>‚Ä¢ Emerging neighborhoods</li>
                    <li>‚Ä¢ Character homes at lower prices</li>
                    <li>‚Ä¢ Ritchie, Alberta Avenue, Parkdale</li>
                  </ul>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-sm">
                  <h3 class="text-xl font-bold mb-3 text-lifestyle-secondary">üö∂ For Walkability</h3>
                  <ul class="space-y-2 text-sm">
                    <li>‚Ä¢ Amenities within walking distance</li>
                    <li>‚Ä¢ Transit connections</li>
                    <li>‚Ä¢ Old Strathcona, Downtown, Oliver</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="mt-8 bg-lifestyle-secondary/10 p-6 rounded-lg">
              <h3 class="text-xl font-bold mb-4 text-lifestyle-secondary">üè° Neighborhood Selection Tips</h3>
              <div class="grid md:grid-cols-2 gap-4 text-sm">
                <div>
                  <strong>Research:</strong>
                  <ul class="mt-2 space-y-1">
                    <li>‚Ä¢ Visit at different times/days</li>
                    <li>‚Ä¢ Check community league activities</li>
                    <li>‚Ä¢ Research future developments</li>
                  </ul>
                </div>
                <div>
                  <strong>Consider:</strong>
                  <ul class="mt-2 space-y-1">
                    <li>‚Ä¢ Commute times</li>
                    <li>‚Ä¢ School catchment areas</li>
                    <li>‚Ä¢ Property tax implications</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Related Categories Section -->
  <section class="py-12 md:py-16">
    <div class="container">
      <h2 class="text-3xl font-bold mb-8">
        Explore Related Categories
      </h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <a href="/festivals" class="card hover:shadow-lg transition-all duration-300">
          <div class="h-48 mb-4 overflow-hidden rounded-lg">
            <img 
              src="https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=300&q=80" 
              alt="Edmonton festivals" 
              class="w-full h-full object-cover object-center"
            />
            <div class="absolute inset-0 bg-gradient-to-b from-events-primary/70 to-events-primary/50 opacity-70"></div>
          </div>
          <h3 class="text-xl font-bold mb-2">Best Festivals</h3>
          <p class="text-gray-600 mb-4">Experience Edmonton's vibrant cultural events and celebrations.</p>
        </a>
        
        <a href="/coffee" class="card hover:shadow-lg transition-all duration-300">
          <div class="h-48 mb-4 overflow-hidden rounded-lg">
            <img 
              src="https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=300&q=80" 
              alt="Coffee shops in Edmonton" 
              class="w-full h-full object-cover object-center"
            />
            <div class="absolute inset-0 bg-gradient-to-b from-food-secondary/70 to-food-secondary/50 opacity-70"></div>
          </div>
          <h3 class="text-xl font-bold mb-2">Best Coffee Shops</h3>
          <p class="text-gray-600 mb-4">Find the perfect spots for your caffeine fix in Edmonton.</p>
        </a>
        
        <a href="/gyms" class="card hover:shadow-lg transition-all duration-300">
          <div class="h-48 mb-4 overflow-hidden rounded-lg">
            <img 
              src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=300&q=80" 
              alt="Edmonton gyms" 
              class="w-full h-full object-cover object-center"
            />
            <div class="absolute inset-0 bg-gradient-to-b from-lifestyle-primary/70 to-lifestyle-primary/50 opacity-70"></div>
          </div>
          <h3 class="text-xl font-bold mb-2">Best Gyms</h3>
          <p class="text-gray-600 mb-4">Find the top fitness centers to stay active in Edmonton.</p>
        </a>
        
        <a href="/pizza" class="card hover:shadow-lg transition-all duration-300">
          <div class="h-48 mb-4 overflow-hidden rounded-lg">
            <img 
              src="https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=300&q=80" 
              alt="Pizza in Edmonton" 
              class="w-full h-full object-cover object-center"
            />
            <div class="absolute inset-0 bg-gradient-to-b from-food-primary/70 to-food-primary/50 opacity-70"></div>
          </div>
          <h3 class="text-xl font-bold mb-2">Best Pizza</h3>
          <p class="text-gray-600 mb-4">Discover Edmonton's tastiest pizza joints loved by locals.</p>
        </a>
      </div>
    </div>
  </section>
</Layout>

<script>
  // Tab functionality
  document.addEventListener('DOMContentLoaded', function() {
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabPanes = document.querySelectorAll('.tab-pane');
    
    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        const targetTab = button.getAttribute('data-tab');
        
        // Remove active class from all buttons and panes
        tabButtons.forEach(btn => {
          btn.classList.remove('active', 'text-lifestyle-secondary', 'border-lifestyle-secondary');
          btn.classList.add('text-gray-600', 'border-transparent');
        });
        tabPanes.forEach(pane => {
          pane.classList.add('hidden');
          pane.classList.remove('active');
        });
        
        // Add active class to clicked button
        button.classList.add('active', 'text-lifestyle-secondary', 'border-lifestyle-secondary');
        button.classList.remove('text-gray-600', 'border-transparent');
        
        // Show target pane
        const targetPane = document.getElementById(targetTab);
        if (targetPane) {
          targetPane.classList.remove('hidden');
          targetPane.classList.add('active');
        }
      });
    });
  });
</script>